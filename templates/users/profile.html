{% extends 'base.html' %}
{% load static %}
{% block title %}Профиль пользователя{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Профиль: {{ user.username }}</h1>
    <div class="col-md-4 text-center">
      {% if user.photo %}
        <img src="{{ user.photo.url }}" class="img-thumbnail mb-3" style="max-height: 200px;">
      {% else %}
        <img src="{% static 'images/default-user.png' %}" class="img-thumbnail mb-3" style="max-height: 200px;">
      {% endif %}
    </div>
    <div class="card p-4">
        <h4>Личная информация</h4>
        <p><strong>Имя пользователя:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Роль:</strong> 
            {% if user.is_seller %}
                Продавец
            {% else %}
                Покупатель
            {% endif %}
        </p>

        <a href="{% url 'logout' %}" class="btn btn-danger">Выйти</a>
        <a href="{% url 'edit_profile' %}" class="btn btn-secondary ml-2">Редактировать профиль</a>
    </div>

    {% if user.is_seller %}
        <div class="mt-5">
            <h3>Ваши товары</h3>
            {% if products %}
                <ul class="list-group">
                    {% for product in products %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <a href="{% url 'product_detail' product.pk %}">{{ product.name }}</a>
                            <span>{{ product.price }} $</span>
                            <a href="{% url 'edit_product' product.pk %}">Редактировать</a>

                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>Вы пока не добавили ни одного товара.</p>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}
